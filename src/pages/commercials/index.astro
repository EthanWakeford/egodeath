---
import Layout from '../../layouts/Layout.astro';
import Sidekick from '../../components/Sidekick';
import TextImageCard from '../../components/TextImageCard';

import { getData } from '../../firebase';

const projectData = await getData('projects', 'Commercials');
console.log(projectData);
// TODO: Commercials filter not working
---

<Layout metaDescription='commercials' title='Commercials'>
  <Sidekick
    backgroundImages={[
      'src/assets/placeholders/1920x1080.jpg',
      'src/assets/placeholders/1280x720.jpg',
      'src/assets/placeholders/1920x1080.jpg',
      'src/assets/placeholders/1280x720.jpg',
    ]}
    tagline='Commercial'
    welcomeText=''
  />
  {
    projectData.map((doc, index) => (
      <TextImageCard
        bodyText={doc.hero_section.subhead}
        imageAltText={doc.title}
        imageLink={doc.hero_section.project_hero_photo}
        title={doc.hero_section.headline}
        link={`/commercials/${doc.slug}`}
        reversed={index % 2 === 0}
      />
    ))
  }
</Layout>
